AC_LANG_SAVE
AC_LANG_CPLUSPLUS
AC_CHECK_HEADER(FlexLexer.h,
  [kde_have_flex=yes],
  [kde_have_flex=no])

if test "$kde_have_flex" = "no"; then
  DO_NOT_COMPILE="$DO_NOT_COMPILE umbrello"
fi

dnl Not GPL compatible
dnl AC_PATH_PROG(DOT_FOUND, dot, no)
dnl KDE_CHECK_HEADER(graphviz/pathgeom.h,
dnl   [kde_have_graphviz=yes],
dnl   [kde_have_graphviz=no])
dnl  
dnl if test "$DOT_FOUND" != "no" -a "$kde_have_graphviz" = "yes"; then
dnl   CXXFLAGS="$CXXFLAGS -DHAVE_DOT"
dnl   GRAPHVIZ_LIB=`pkg-config --libs libgraph`
dnl   AUTOLAYOUT_DIR="autolayout"
dnl   AUTOLAYOUT_LIBS="autolayout/libautolayout.la $GRAPHVIZ_LIB -ldotgen -lgvc"
dnl else
dnl   AUTOLAYOUT_DIR=""
dnl   AUTOLAYOUT_LIBS=""
dnl fi
dnl AC_SUBST(AUTOLAYOUT_DIR)
dnl AC_SUBST(AUTOLAYOUT_LIBS)

AC_LANG_RESTORE


AC_CHECK_FUNCS(setenv)

dnl AH_BOTTOM(
dnl [#if !defined(HAVE_SETENV)
dnl #ifdef __cplusplus
dnl extern "C"
dnl #endif
dnl int setenv(const char *name, const char *value, int overwrite);
dnl #endif
dnl ])
